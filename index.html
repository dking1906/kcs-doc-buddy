<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>KCS | Doc Buddy‚Ñ¢ - Red Team Certified</title>
  <style>
    /* ----- RED TEAM DEPLOYMENT - SINGLE FILE EMERGENCY BUILD ----- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    :root {
      --bg: #0b0f14;
      --panel: #111826;
      --accent: #7aa2ff;
      --text: #e6edf3;
      --muted: #aab6c2;
      --success: #3fb950;
      --warning: #e5c07b;
      --danger: #f7768e;
      --border: #233044;
    }

    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 16px;
      padding-bottom: 100px;
    }

    /* Header */
    .header {
      text-align: center;
      padding: 20px 10px;
      background: var(--panel);
      border-radius: 30px;
      margin-bottom: 20px;
      border: 1px solid var(--border);
    }

    .header h1 {
      color: var(--accent);
      font-size: 1.8rem;
      font-weight: 700;
    }

    .header .badge {
      background: rgba(63, 185, 80, 0.2);
      color: var(--success);
      padding: 6px 16px;
      border-radius: 60px;
      font-size: 0.8rem;
      display: inline-block;
      margin-top: 8px;
      border: 1px solid var(--success);
    }

    /* Progress Bar */
    .progress {
      display: flex;
      justify-content: space-between;
      margin: 20px 0 30px;
      position: relative;
    }

    .progress::before {
      content: '';
      position: absolute;
      top: 15px;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--border);
      z-index: 1;
    }

    .step {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--panel);
      border: 3px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      position: relative;
      z-index: 2;
    }

    .step.active {
      background: var(--accent);
      border-color: var(--accent);
      color: #0b0f14;
    }

    .step.completed {
      background: var(--success);
      border-color: var(--success);
    }

    /* Cards */
    .card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 30px;
      padding: 24px;
      margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }

    .card h2 {
      font-size: 1.6rem;
      margin-bottom: 20px;
      color: white;
    }

    .card h2 span {
      color: var(--accent);
      font-size: 0.9rem;
      background: rgba(122, 162, 255, 0.1);
      padding: 4px 12px;
      border-radius: 60px;
      margin-left: 10px;
    }

    label {
      display: block;
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--accent);
      text-transform: uppercase;
      margin-bottom: 8px;
      letter-spacing: 0.5px;
    }

    input, select, textarea {
      width: 100%;
      padding: 16px 20px;
      border-radius: 20px;
      border: 1.5px solid var(--border);
      background: #0a0e14;
      color: white;
      font-size: 1rem;
      margin-bottom: 20px;
    }

    input:focus, select:focus {
      border-color: var(--accent);
      outline: none;
    }

    .row {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    .row > div {
      flex: 1 1 150px;
    }

    /* File Upload */
    .upload-zone {
      border: 2px dashed var(--border);
      border-radius: 30px;
      padding: 40px 20px;
      text-align: center;
      margin: 20px 0;
      cursor: pointer;
      background: #0a0e14;
    }

    .upload-zone input {
      display: none;
    }

    .upload-zone span {
      color: var(--accent);
      font-size: 1.2rem;
      font-weight: 600;
    }

    .file-feedback {
      color: var(--success);
      margin: 10px 0;
    }

    /* Checkbox */
    .checkbox-group {
      background: rgba(0,0,0,0.3);
      border-radius: 20px;
      padding: 20px;
      margin: 20px 0;
      border-left: 4px solid var(--accent);
    }

    .checkbox-item {
      display: flex;
      gap: 15px;
      margin: 15px 0;
    }

    .checkbox-item input {
      width: 24px;
      height: 24px;
      margin: 0;
    }

    .checkbox-item label {
      color: var(--text);
      text-transform: none;
      font-size: 0.95rem;
      margin: 0;
    }

    /* License Status */
    .license-status {
      background: #0a0e14;
      padding: 15px;
      border-radius: 16px;
      margin: 15px 0;
      text-align: center;
    }

    .success { color: var(--success); }
    .error { color: var(--danger); }

    /* Footer Navigation */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--panel);
      border-top: 1px solid var(--border);
      padding: 16px 20px;
      display: flex;
      gap: 15px;
      backdrop-filter: blur(10px);
    }

    .btn {
      flex: 1;
      padding: 18px 24px;
      border-radius: 60px;
      border: none;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .btn-primary {
      background: var(--accent);
      color: #0b0f14;
    }

    .btn-secondary {
      background: transparent;
      color: var(--muted);
      border: 1px solid var(--border);
    }

    .hidden {
      display: none;
    }

    /* Toast */
    #toast {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: black;
      color: white;
      padding: 14px 28px;
      border-radius: 60px;
      z-index: 9999;
      display: none;
      border-left: 6px solid var(--accent);
    }

    /* Timeout Bar */
    .timeout-bar {
      height: 4px;
      background: var(--border);
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
    }

    .timeout-progress {
      height: 100%;
      background: var(--accent);
      width: 100%;
      transition: width 1s linear;
    }
  </style>
</head>
<body>

<!-- Timeout Bar -->
<div class="timeout-bar"><div class="timeout-progress" id="timeoutProgress"></div></div>

<!-- Toast -->
<div id="toast"></div>

<!-- Header -->
<div class="header">
  <h1>KCS | DOC BUDDY‚Ñ¢</h1>
  <div class="badge">‚ö° RED TEAM DEPLOYMENT</div>
</div>

<!-- Progress Steps -->
<div class="progress">
  <div class="step active" id="step1">1</div>
  <div class="step" id="step2">2</div>
  <div class="step" id="step3">3</div>
</div>

<!-- MAIN CONTENT -->
<div id="step1Content">
  <div class="card">
    <h2>‚ö° Profile Builder <span>Step 1/3</span></h2>
    
    <label>Full Legal Name</label>
    <input type="text" id="fullName" placeholder="John Doe" maxlength="100">

    <div class="row">
      <div>
        <label>Birth Date</label>
        <input type="date" id="birthDate">
      </div>
      <div>
        <label>SSN (Last 4)</label>
        <input type="text" id="ssn" maxlength="4" placeholder="1234" pattern="[0-9]{4}">
      </div>
    </div>

    <label>State</label>
    <select id="state">
      <option value="">Select State</option>
      <option value="AL">Alabama</option>
      <option value="CA">California</option>
      <option value="TX">Texas</option>
      <option value="NY">New York</option>
      <option value="FL">Florida</option>
    </select>

    <label>City</label>
    <select id="city" disabled>
      <option>Select state first</option>
    </select>

    <div class="checkbox-group">
      <div class="checkbox-item">
        <input type="checkbox" id="disclosure1">
        <label for="disclosure1">I certify this information is accurate for legal purposes</label>
      </div>
    </div>
  </div>
</div>

<div id="step2Content" class="hidden">
  <div class="card">
    <h2>üîí Evidence Vault <span>Step 2/3</span></h2>
    
    <p style="color: var(--muted); margin-bottom: 20px;">Upload government ID (image or PDF, max 10MB)</p>

    <div class="upload-zone" onclick="document.getElementById('fileInput').click()">
      <input type="file" id="fileInput" accept="image/*,application/pdf">
      <span>üì∏ Tap to upload ID</span>
    </div>
    <div id="fileFeedback" class="file-feedback"></div>

    <div class="checkbox-group">
      <div class="checkbox-item">
        <input type="checkbox" id="disclosure2">
        <label for="disclosure2">I confirm this is my genuine ID document</label>
      </div>
    </div>
  </div>
</div>

<div id="step3Content" class="hidden">
  <div class="card">
    <h2>‚öôÔ∏è Activate <span>Step 3/3</span></h2>
    
    <label>Document Type</label>
    <select id="docType">
      <option value="FCRA">Credit Dispute (FCRA)</option>
      <option value="FDCPA">Debt Validation (FDCPA)</option>
    </select>

    <label>License Key (test mode)</label>
    <input type="text" id="licenseKey" placeholder="TEST-1234" value="TEST-1234">

    <div class="license-status" id="licenseStatus">
      ‚úÖ Test Mode Active - No Verification Required
    </div>

    <div class="checkbox-group">
      <div class="checkbox-item">
        <input type="checkbox" id="disclosure3">
        <label for="disclosure3">I am acting pro se and understand this is not legal advice</label>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<div class="footer">
  <button class="btn btn-secondary" id="backBtn" onclick="navigate(-1)">Back</button>
  <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">Continue</button>
</div>

<script>
  // -------------------- RED TEAM EMERGENCY DEPLOYMENT --------------------
  let currentStep = 1;
  let fileValid = false;
  let timeoutInterval;
  const SESSION_TIME = 15 * 60 * 1000; // 15 minutes
  let sessionTimer;

  // City data
  const cities = {
    'AL': ['Birmingham', 'Montgomery', 'Mobile'],
    'CA': ['Los Angeles', 'San Francisco', 'San Diego'],
    'TX': ['Houston', 'Austin', 'Dallas'],
    'NY': ['New York', 'Buffalo', 'Albany'],
    'FL': ['Miami', 'Orlando', 'Tampa']
  };

  // Initialize
  document.addEventListener('DOMContentLoaded', function() {
    updateUI();
    startSessionTimer();
    
    // State change
    document.getElementById('state').addEventListener('change', function() {
      const state = this.value;
      const citySelect = document.getElementById('city');
      citySelect.innerHTML = '';
      
      if (cities[state]) {
        citySelect.disabled = false;
        cities[state].forEach(city => {
          const option = document.createElement('option');
          option.value = city;
          option.textContent = city;
          citySelect.appendChild(option);
        });
      } else {
        citySelect.disabled = true;
        citySelect.innerHTML = '<option>Select state first</option>';
      }
    });

    // File input
    document.getElementById('fileInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        if (file.size > 10 * 1024 * 1024) {
          showToast('File too large (max 10MB)', 'error');
          fileValid = false;
        } else {
          fileValid = true;
          document.getElementById('fileFeedback').textContent = `‚úÖ ${file.name}`;
        }
      }
    });
  });

  function startSessionTimer() {
    const progress = document.getElementById('timeoutProgress');
    progress.style.width = '100%';
    
    setTimeout(() => {
      progress.style.width = '5%';
      showToast('Session expires in 30 seconds', 'warning');
    }, SESSION_TIME - 30000);
    
    setTimeout(() => {
      showToast('Session expired - refresh page', 'error');
      document.querySelectorAll('input, button, select').forEach(el => el.disabled = true);
    }, SESSION_TIME);
  }

  function showToast(msg, type) {
    const toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.style.display = 'block';
    toast.style.borderLeftColor = type === 'error' ? 'var(--danger)' : 'var(--warning)';
    setTimeout(() => toast.style.display = 'none', 4000);
  }

  function navigate(direction) {
    const newStep = currentStep + direction;
    
    if (direction === 1) {
      // Validation before proceeding
      if (currentStep === 1) {
        if (!document.getElementById('fullName').value) {
          showToast('Name is required', 'error');
          return;
        }
        if (!document.getElementById('state').value) {
          showToast('State is required', 'error');
          return;
        }
        if (!document.getElementById('disclosure1').checked) {
          showToast('Please check the disclosure', 'error');
          return;
        }
      }
      
      if (currentStep === 2) {
        if (!fileValid) {
          showToast('Please upload your ID', 'error');
          return;
        }
        if (!document.getElementById('disclosure2').checked) {
          showToast('Please confirm your ID is genuine', 'error');
          return;
        }
      }
      
      if (currentStep === 3) {
        if (!document.getElementById('disclosure3').checked) {
          showToast('Please check the final disclosure', 'error');
          return;
        }
        showToast('‚úÖ Documents Generated Successfully!', 'success');
        return;
      }
    }
    
    if (newStep >= 1 && newStep <= 3) {
      currentStep = newStep;
      updateUI();
    }
  }

  function updateUI() {
    // Update steps
    document.getElementById('step1').className = currentStep >= 1 ? 'step active' : 'step';
    document.getElementById('step2').className = currentStep >= 2 ? 'step active' : 'step';
    document.getElementById('step3').className = currentStep >= 3 ? 'step active' : 'step';
    
    // Update content
    document.getElementById('step1Content').className = currentStep === 1 ? '' : 'hidden';
    document.getElementById('step2Content').className = currentStep === 2 ? '' : 'hidden';
    document.getElementById('step3Content').className = currentStep === 3 ? '' : 'hidden';
    
    // Update buttons
    document.getElementById('backBtn').className = currentStep === 1 ? 'hidden' : 'btn btn-secondary';
    document.getElementById('nextBtn').textContent = currentStep === 3 ? 'Generate' : 'Continue';
  }
</script>

</body>
</html>
